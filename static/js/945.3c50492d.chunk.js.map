{"version":3,"file":"static/js/945.3c50492d.chunk.js","mappings":"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","sources":["components/api/Api.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","components/MovieList/MovieList.jsx","pages/Movies/Movies.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["const API_KEY = 'f4c14c9e26eb24e8cb99026398667b0c';\n\nexport async function getTrendingMovies() {\n  const response = await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`);\n  const data = await response.json();\n  return data.results;\n}\n\nexport async function searchMovies(query) {\n  const response = await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}`);\n  const data = await response.json();\n  return data.results;\n}\n\nexport async function getMovieDetails(movieId) {\n  const response = await fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}`);\n  const data = await response.json();\n  return data;\n}\n\nexport async function getMovieCredits(movieId) {\n  const response = await fetch(`https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}`);\n  const data = await response.json();\n  return data.cast;\n}\n\nexport async function getMovieReviews(movieId) {\n  const response = await fetch(`https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}`);\n  const data = await response.json();\n  return data.results;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__+-Cnt\",\"title\":\"Movies_title__MDLXB\",\"input\":\"Movies_input__KrUqs\",\"button\":\"Movies_button__GcIka\",\"results\":\"Movies_results__l5U2w\",\"list\":\"Movies_list__hqYjd\",\"item\":\"Movies_item__Ba4aJ\",\"noResults\":\"Movies_noResults__zUCR-\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from '../../pages/Movies/Movies.module.css';\n\nfunction MovieList({ movies, handleMovieClick }) {\n  return (\n    <>\n      <h2 className={styles.results}>Results:</h2>\n      <ul className={styles.list}>\n        {movies.map((movie) => (\n          <li key={movie.id} className={styles.item}>\n            <button onClick={() => handleMovieClick(movie.id)} className={styles.button}>\n              {movie.title}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  handleMovieClick: PropTypes.func.isRequired,\n};\n\nexport default MovieList;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { searchMovies } from '../../components/api/Api';\nimport styles from './Movies.module.css';\nimport MovieList from '../../components/MovieList/MovieList';\n\nfunction Movies() {\n  const location = useLocation();\n  const queryParams = useMemo(() => new URLSearchParams(location.search), [location.search]);\n  const initialQuery = queryParams.get('query') || '';\n  const [query, setQuery] = useState(initialQuery);\n  const [movies, setMovies] = useState([]);\n  const navigate = useNavigate();\n\n  const handleInputChange = (event) => {\n    const newQuery = event.target.value;\n    setQuery(newQuery);\n  };\n\n  const handleSearchSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const moviesData = await searchMovies(query);\n      setMovies(moviesData);\n\n      queryParams.set('query', query);\n      navigate({ search: queryParams.toString() });\n    } catch (error) {\n      console.error('Error fetching movies:', error);\n    }\n  };\n\n  const handleMovieClick = (movieId) => {\n    navigate(`/movies/${movieId}`, { state: { from: location } });\n  };\n\n  useEffect(() => {\n    const handleSearchSubmitOnMount = async () => {\n      if (movies.length === 0 && initialQuery) {\n        try {\n          const moviesData = await searchMovies(initialQuery);\n          setMovies(moviesData);\n        } catch (error) {\n          console.error('Error fetching movies:', error);\n        }\n      }\n    };\n\n    handleSearchSubmitOnMount();\n  }, [movies, initialQuery]);\n\n  return (\n    <div className={styles.container}>\n      <h1 className={styles.title}>Find film</h1>\n      <form onSubmit={handleSearchSubmit}>\n        <input type=\"text\" value={query} onChange={handleInputChange} className={styles.input} />\n        <button type=\"submit\" className={styles.button}>\n          Поиск\n        </button>\n      </form>\n\n      {movies.length > 0 && <MovieList movies={movies} handleMovieClick={handleMovieClick} />}\n\n      {movies.length === 0 && query && <p className={styles.noResults}>Films not found!</p>}\n    </div>\n  );\n}\n\nMovies.propTypes = {\n  location: PropTypes.object.isRequired,\n};\n\nexport default Movies;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["API_KEY","getTrendingMovies","fetch","response","json","data","results","searchMovies","query","getMovieDetails","movieId","getMovieCredits","cast","getMovieReviews","movies","handleMovieClick","className","styles","map","movie","onClick","id","title","location","useLocation","queryParams","useMemo","URLSearchParams","search","initialQuery","get","useState","setQuery","setMovies","navigate","useNavigate","handleSearchSubmit","event","preventDefault","moviesData","set","toString","console","error","useEffect","handleSearchSubmitOnMount","length","onSubmit","type","value","onChange","newQuery","target","state","from","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}