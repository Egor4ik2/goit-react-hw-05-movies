{"version":3,"file":"static/js/653.6a28f0f0.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx","components/api/Api.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__sNK5N\",\"title\":\"Movies_title__EqSqF\",\"input\":\"Movies_input__OE3ef\",\"button\":\"Movies_button__hVjwG\",\"results\":\"Movies_results__e9tpp\",\"list\":\"Movies_list__JEO-P\",\"item\":\"Movies_item__+Yifn\",\"noResults\":\"Movies_noResults__LUzU2\"};","import React, { useState, useMemo } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { searchMovies } from '../api/Api';\nimport styles from './Movies.module.css';\n\nfunction Movies() {\n  const location = useLocation();\n  const queryParams = useMemo(() => new URLSearchParams(location.search), [location.search]);\n  const initialQuery = queryParams.get('query') || '';\n  const [query, setQuery] = useState(initialQuery);\n  const [movies, setMovies] = useState([]);\n  const navigate = useNavigate();\n\n  const updateQuery = (newQuery) => {\n    setQuery(newQuery);\n    const searchParams = new URLSearchParams(location.search);\n    searchParams.set('query', newQuery);\n    navigate({ search: searchParams.toString() });\n  };\n\n  const handleInputChange = (event) => {\n    const newQuery = event.target.value;\n    updateQuery(newQuery);\n  };\n\n  const handleSearchClick = async (event) => {\n    event.preventDefault();\n    try {\n      const moviesData = await searchMovies(query);\n      setMovies(moviesData);\n    } catch (error) {\n      console.error('Error fetching movies:', error);\n    }\n  };\n\n  const handleMovieClick = (movieId) => {\n    navigate(`/movies/${movieId}`, { state: { from: location } });\n  };\n\n  return (\n    <div className={styles.container}>\n      <h1 className={styles.title}>Find film</h1>\n      <form onSubmit={handleSearchClick}>\n        <input type=\"text\" value={query} onChange={handleInputChange} className={styles.input} />\n        <button type=\"submit\" className={styles.button}>Поиск</button>\n      </form>\n\n      {movies.length > 0 && ( \n        <>\n          <h2 className={styles.results}>Results:</h2>\n          <ul className={styles.list}>\n            {movies.map((movie) => (\n              <li key={movie.id} className={styles.item}>\n                <button onClick={() => handleMovieClick(movie.id)} className={styles.button}>\n                  {movie.title}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </>\n      )}\n\n      {movies.length === 0 && query && <p className={styles.noResults}>Films not found!</p>}\n    </div>\n  );\n}\n\nMovies.propTypes = {\n  location: PropTypes.object.isRequired,\n};\n\nexport default Movies;\n","const API_KEY = 'f4c14c9e26eb24e8cb99026398667b0c';\n\nexport async function getTrendingMovies() {\n  const response = await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`);\n  const data = await response.json();\n  return data.results;\n}\n\nexport async function searchMovies(query) {\n  const response = await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}`);\n  const data = await response.json();\n  return data.results;\n}\n\nexport async function getMovieDetails(movieId) {\n  const response = await fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}`);\n  const data = await response.json();\n  return data;\n}\n\nexport async function getMovieCredits(movieId) {\n  const response = await fetch(`https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}`);\n  const data = await response.json();\n  return data.cast;\n}\n\nexport async function getMovieReviews(movieId) {\n  const response = await fetch(`https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}`);\n  const data = await response.json();\n  return data.results;\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["location","useLocation","initialQuery","useMemo","URLSearchParams","search","get","useState","query","setQuery","movies","setMovies","navigate","useNavigate","handleSearchClick","event","preventDefault","searchMovies","moviesData","console","error","className","styles","onSubmit","type","value","onChange","newQuery","searchParams","set","toString","updateQuery","target","length","map","movie","onClick","movieId","id","state","from","title","API_KEY","getTrendingMovies","fetch","response","json","data","results","getMovieDetails","getMovieCredits","cast","getMovieReviews","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}